##+HTML_HEAD: <link rel="stylesheet" type="text/css" href="css/norang.css" />
#+STYLE: <link rel="stylesheet" type="text/css" href="css/worg-zenburn.css" />
* RE_CASCADE_MGR

#+BEGIN_SRC plantuml :file RE_CASCADE_MGR.png  :cmdline -charset UTF-8
title re_cascade_mgr
activate RE_CASCADE_MGR

[->RE_CASCADE_MGR: IDB_Client_IDB_Ready
note right of RE_CASCADE_MGR: Read MF_ConnectedUnits\nRead MF_Ring\nRBS_REG_Conf
[->RE_CASCADE_MGR: HWU_CPRI found
note right of RE_CASCADE_MGR: Subscribe RIO_RIC for each RE
RE_CASCADE_MGR->HWU_CPRI: HWU_CPRI_SUBSCRIBE_RI_LINK_STATE_REQ
activate HWU_CPRI
note right of HWU_CPRI: ring.subscriberPid = RE_CASCADE_MGR
RE_CASCADE_MGR<-HWU_CPRI: HWU_CPRI_SUBSCRIBE_RI_LINK_STATE_RSP
deactivate HWU_CPRI
HWU_CPRI->HWU_CPRI: loop RE Cascade chains which 1st line RE is operational
activate HWU_CPRI
RE_CASCADE_MGR<--HWU_CPRI: HWU_CPRI_SUBSCRIBE_RT_LINK_STATE_RESULT
deactivate HWU_CPRI
[->RE_CASCADE_MGR: A RIORIC found
RE_CASCADE_MGR->TRNSC_RIORIC: RIO_Connect
activate TRNSC_RIORIC
RE_CASCADE_MGR<-TRNSC_RIORIC: RIO_ConnectRsp
deactivate TRNSC_RIORIC
note right of RE_CASCADE_MGR: Attach RIORIC

#+END_SRC

#+results:
[[file:RE_CASCADE_MGR.png]]

* HWU_CPRI_MAIN

** IDB_Client_IDB_Ready received

#+BEGIN_SRC plantuml :file HWU_CPRI_MAIN.png  :cmdline -charset UTF-8
title hwu_cpri_main
activate HWU_CPRI_MAIN

create HWU_CPRI_HDLC
  HWU_CPRI_MAIN->HWU_CPRI_HDLC: new

[->HWU_CPRI_MAIN: IDB_CLIENT_IDB_READY
  NOTE RIGHT OF HWU_CPRI_MAIN: Read MF_ConnectedUnits\nRead MF_CPRI_LinkConf\nRead RBS_DU_IDL2
  OPT Only for LINX_CPRI
    NOTE RIGHT OF HWU_CPRI_MAIN: Start Timer(HWU_CPRI_RI_CONF_POLL_TMO)
  END

[->HWU_CPRI_MAIN: TRX_DB_Client_DB_Ready
  NOTE RIGHT OF HWU_CPRI_MAIN: Register "Class=HWU_CPRI" in LocalODB

Co_Timing<-]: HWU_CPRI found
  OPT Only for LINK_IDL2
    ACTIVATE Co_Timing
    Co_Timing->HWU_CPRI_MAIN: HWU_CPRI_SET_IDL2_NODE_CONTRLLER_REQ
    DEACTIVATE Co_Timing
    activate HWU_CPRI_MAIN
    HWU_CPRI_MAIN->HWU_CPRI_HDLC: HWU_CPRI_REMOVE_ECP_CONNECTION_REQ
    activate HWU_CPRI_HDLC
    HWU_CPRI_HDLC<-HWU_CPRI_MAIN:HWU_CPRI_CREATE_ECP_CONNECTION_REQ
    NOTE RIGHT OF HWU_CPRI_MAIN: Start Timer(HWU_CPRI_RI_CONF_POLL_TMO)
    DEACTIVATE HWU_CPRI_MAIN
    DEactivate HWU_CPRI_HDLC
  END

HWU_CPRI_MAIN->HWU_CPRI_MAIN: HWU_CPRI_RI_CONF_POLL_TMO
activate HWU_CPRI_MAIN
ALT LINK_CPRI
NOTE RIGHT OF HWU_CPRI_MAIN: Enable IQC and ECP
ELSE LINK_IDL2
NOTE RIGHT OF HWU_CPRI_MAIN: Disable IQC, Enable ECP
NOTE RIGHT OF HWU_CPRI_MAIN: setupECPbuffer(pS, ri, IDL2_PORT_R1E_LINKID, TRUE, CPRI_ECP_ADDRESS_RANGE_FULL)
HWU_CPRI_HDLC<-HWU_CPRI_MAIN:HWU_CPRI_CREATE_ECP_CONNECTION_REQ
ACTIVATE HWU_CPRI_HDLC
DEACTIVATE HWU_CPRI_HDLC
NOTE RIGHT OF HWU_CPRI_MAIN: Handle JitterBuffer alignment
END
NOTE RIGHT OF HWU_CPRI_MAIN: Calculate RTD for Co_Timing
NOTE RIGHT OF HWU_CPRI_MAIN: Send state changes to RE_CASCADE_MGR for 1st line RE
HWU_CPRI_MAIN->HWU_CPRI_HDLC: HWU_CPRI_CREATE_ECP_CONNECTION_REQ
DEACTIVATE HWU_CPRI_MAIN

#+END_SRC

#+results:
[[file:HWU_CPRI_MAIN.png]]

